(this["webpackJsonpacid-rain"]=this["webpackJsonpacid-rain"]||[]).push([[0],{39:function(e,t,n){e.exports=n(57)},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(23),o=n.n(r),i=n(25),c=n(17),u=(n(48),n(3)),l=n(4),h=n(6),p=n(5),d=n(7),m=(n(49),n(37)),f=n(18),g=n(9),v=(n(50),n(34)),b=3,y=4,j=5,O=6,k=7,E="game-level",C="game-scores",S=1/60,w=20,I=1280,x=693,N=80,P=3,_="game-content-input",D="game-init",J="game-add-drop",M="game-check-drops",R="game-update-drops",U="game-change-mode",q="game-health-score-store",z="game-effect",G="game-reset",L=function(e){return Object.assign({},e,{type:D})},T=function(e){return{type:U,mode:e}},K={mode:0,effect:j,effect_count:0,move_size:0,content:"",words_index:0,words:[],drops:[],score:0,health:P};n(51);var A=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={input:""},n.handleInputChange=n.handleInputChange.bind(Object(g.a)(n)),n.handleKeyPress=n.handleKeyPress.bind(Object(g.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleKeyPress",value:function(e){var t;"Enter"===e.key&&(this.props.dispatch((t=this.state.input,{type:_,content:t})),this.setState({input:""}))}},{key:"handleInputChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return a.a.createElement("input",{className:"input-style",name:"input",onKeyPress:this.handleKeyPress,value:this.state.input,onChange:this.handleInputChange})}}]),t}(s.Component),B=Object(c.b)()(A),F=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"render",value:function(){return a.a.createElement("div",{className:"Ground"},a.a.createElement(B,null))}}]),t}(s.Component),X=(n(52),n(53),n(54),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={top:this.props.drop.top,left:this.props.drop.left,color:!0===this.props.drop.item?"blue":"black"},t=this.props.drop.word;return"hidden"===this.props.drop.effect&&(t=""),a.a.createElement("div",{className:"Drop",style:e},a.a.createElement("div",{className:"drop-img"},t))}}]),t}(s.Component)),V=new(function(){function e(){var t=this;Object(u.a)(this,e),this.length=256,this.keys=[],this.cantPress=[],this.justPress=[],document.body.addEventListener("keydown",(function(e){t.keys[e.keyCode||e.charCode||0]=!0})),document.body.addEventListener("keyup",(function(e){t.keys[e.keyCode||e.charCode||0]=!1}))}return Object(l.a)(e,[{key:"update",value:function(){for(var e=0;e<this.length;e++)this.cantPress[e]&&!this.keys[e]?(this.cantPress[e]=!1,this.justPress[e]=!1):this.justPress[e]?(this.cantPress[e]=!0,this.justPress[e]=!1):!this.cantPress[e]&&this.keys[e]&&(this.justPress[e]=!0)}},{key:"justPressed",value:function(e){return this.justPress[e]}}]),e}()),W=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).index=0,n.length=0,n.register=!1,n.onClick=n.onClick.bind(Object(g.a)(n)),n.setIndex=n.setIndex.bind(Object(g.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onClick",value:function(){}},{key:"setIndex",value:function(e){this.index=parseInt(e.target.id)}},{key:"componentDidUpdate",value:function(){if(!this.register){for(var e=document.getElementsByClassName("item"),t=0;t<e.length;t++)e[t].addEventListener("mouseover",this.setIndex),e[t].addEventListener("click",this.onClick);this.register=!0}(V.justPressed(37)||V.justPressed(38))&&(this.index=this.index-1<0?this.length-1:this.index-1),(V.justPressed(39)||V.justPressed(40))&&(this.index=this.index+1===this.length?0:this.index+1)}}]),t}(s.Component),H=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).options=["\uacc4\uc18d\ud558\uae30","\ub2e4\uc2dc \uc2dc\uc791\ud558\uae30","\uadf8\ub9cc\ud558\uae30"],n.length=n.options.length,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.updateCount!==e.updateCount}},{key:"onClick",value:function(){0===this.index?this.props.dispatch(T(1)):1===this.index?this.props.regame():2===this.index&&this.props.tomenu()}},{key:"render",value:function(){var e=this;V.justPressed(13)&&this.onClick();var t=this.options.map((function(t,n){if(e.index===n){return a.a.createElement("div",{className:"item",id:n,key:n,style:{color:"red",cursor:"pointer"}},t)}return a.a.createElement("div",{className:"item",id:n,key:n},t)}));return a.a.createElement("div",{className:"Menu"},t)}}]),t}(W),$=Object(c.b)()(H),Q=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).options1=["\ub2e4\uc74c \ub2e8\uacc4","\uba54\ub274","\uae30\ub85d \uc800\uc7a5"],n.options2=["\ub2e4\uc2dc \ud558\uae30","\uba54\ub274","\uae30\ub85d \uc800\uc7a5"],n.renderMenuItem=n.renderMenuItem.bind(Object(g.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.updateCount!==e.updateCount}},{key:"renderMenuItem",value:function(e,t){if(this.index===t){return a.a.createElement("div",{className:"item result-item",id:t,key:t,style:{color:"red",cursor:"pointer"}},e)}return a.a.createElement("div",{className:"item result-item",id:t,key:t},e)}},{key:"onClick",value:function(){0===this.index?this.props.mode===b?this.props.nextgame():this.props.regame():1===this.index?this.props.tomenu():2===this.index&&this.props.saveScore()}},{key:"render",value:function(){if(this.props.mode!==b&&this.props.mode!==y)return this.index=0,"";var e,t={style:{color:""},message:""};return this.props.mode===b?(t.style={color:"green"},t.message="Clear!!!",e=this.options1.map(this.renderMenuItem),this.length=this.options1.length):(t.style={color:"red"},t.message="Fail...",e=this.options2.map(this.renderMenuItem),this.length=this.options2.length),V.justPressed(13)&&this.onClick(),a.a.createElement("div",{className:"Result"},a.a.createElement("div",{className:"mention",style:t.style},t.message),a.a.createElement("div",{className:"score"},"\uc810\uc218 : ",this.props.score),e)}}]),t}(W),Y=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).me=a.a.createRef(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.updateCount!==e.updateCount}},{key:"render",value:function(){var e=this.props.renderingData,t=e.drops.map((function(e,t){return a.a.createElement(X,{key:t,drop:e})})),n={style:{color:"red"},message:""};switch(e.event){case k:n.message="hide";break;case O:n.message="speed up";break;default:n.message="no",n.style={color:"black"}}var s="";return 2===this.props.mode?s=a.a.createElement($,{tomenu:this.props.tomenu,updateCount:this.props.updateCount,regame:this.props.regame,mode:this.props.mode}):this.props.mode!==b&&this.props.mode!==y||(s=a.a.createElement(Q,{saveScore:this.props.saveScore,tomenu:this.props.tomenu,updateCount:this.props.updateCount,regame:this.props.regame,nextgame:this.props.nextgame,mode:this.props.mode,score:e.score})),a.a.createElement("div",{className:"Sky",ref:this.me},s,a.a.createElement("div",{className:"game-info"},"score : ",e.score,", health : ",e.health),a.a.createElement("div",{className:"game-info",style:n.style},"event : ",n.message),a.a.createElement("div",{className:"ready"},e.ready),t)}}]),t}(s.Component);function Z(e,t){return function(e){return fetch(e).then((function(e){return e.json()}))}(e).then((function(e){t(L(e))}))}var ee=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/60;Object(u.a)(this,e);var s=0,a=0;this.requestId=void 0,this.stoped=!1,this.updateProxy=function(e){for(console.log(1),(s+=(e-a)/1e3)>1&&(s=1);s>n;)t.update(n),s-=n;a=e,t.enqueue()}}return Object(l.a)(e,[{key:"enqueue",value:function(){this.stoped||(this.requestId=window.requestAnimationFrame(this.updateProxy))}},{key:"start",value:function(){this.enqueue()}},{key:"stop",value:function(){this.requestId&&(console.log(2),window.cancelAnimationFrame(this.requestId),this.requestId=void 0,this.stoped=!0)}}]),e}(),te=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={updateCount:0,out:!1},n.eventCount=0,n.renderingData={ready:"",score:"",health:"",event:"",drops:[]},n.update=n.update.bind(Object(g.a)(n)),n.gameReady=n.gameReady.bind(Object(g.a)(n)),n.gameUpdate=n.gameUpdate.bind(Object(g.a)(n)),n.startGame=n.startGame.bind(Object(g.a)(n)),n.tomenu=n.tomenu.bind(Object(g.a)(n)),n.regame=n.regame.bind(Object(g.a)(n)),n.saveScore=n.saveScore.bind(Object(g.a)(n));var s=null===sessionStorage.getItem(E)?{num:1,score:n.props.score,health:n.props.health}:JSON.parse(sessionStorage.getItem(E));return sessionStorage.setItem(E,JSON.stringify(s)),n.timer=new ee(S),n.timer.update=n.update,n.startGame(s),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"startGame",value:function(e){var t=this;Z("/levels/".concat(e.num,".json"),this.props.dispatch).then((function(){var n,s;t.props.dispatch((n=e.health,s=e.score,{type:q,health:n,score:s})),t.eventCount=0,t.timer.start()}))}},{key:"regame",value:function(){this.startGame(JSON.parse(sessionStorage.getItem(E)))}},{key:"nextgame",value:function(){var e=JSON.parse(sessionStorage.getItem(E)),t=parseInt(e.num);t>=3?alert("\ub354 \uc774\uc0c1 \ub808\ubca8\uc740 \uc5c6\uc2b5\ub2c8\ub2e4."):(sessionStorage.setItem(E,JSON.stringify(Object.assign({},e,{num:t+1,score:this.props.score,health:this.props.health}))),this.startGame(JSON.parse(sessionStorage.getItem(E))))}},{key:"tomenu",value:function(){this.setState({out:!0})}},{key:"saveScore",value:function(){if(window.confirm("\uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var e=window.prompt("\ub4f1\ub85d\ud560 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694");if(null!==e){var t=JSON.parse(localStorage.getItem(C));if(null===t)t={scores:[{username:e,score:this.props.score}]},localStorage.setItem(C,JSON.stringify(t));else{var n=t.scores.concat({username:e,score:this.props.score});n.sort((function(e,t){return t.score-e.score})),localStorage.setItem(C,JSON.stringify(Object.assign({},t,{scores:n})))}alert("\uc800\uc7a5\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}}},{key:"update",value:function(){this.gameUpdate(),2!==this.props.mode&&this.props.mode!==b&&this.props.mode!==y&&(0===this.props.mode&&this.gameReady(),1===this.props.mode&&this.gameRunning())}},{key:"render",value:function(){var e=this,t={width:I,height:815};return a.a.createElement("div",{style:t},a.a.createElement(Y,{saveScore:this.saveScore,tomenu:function(e){this.tomenu()}.bind(this),regame:this.regame,nextgame:function(t){e.nextgame()},mode:this.props.mode,updateCount:this.state.updateCount,renderingData:this.renderingData}),a.a.createElement(F,null))}},{key:"gameReady",value:function(){this.eventCount++,this.eventCount>=1&&(this.renderingData=Object.assign({},this.renderingData,{ready:"Ready~~~"})),this.eventCount>=150&&(this.renderingData=Object.assign({},this.renderingData,{ready:"Go!!!"})),this.eventCount>=200&&(this.eventCount=0,this.renderingData=Object.assign({},this.renderingData,{ready:""}),this.props.dispatch(T(1)))}},{key:"gameRunning",value:function(){this.eventCount++,this.props.effect!==j&&this.props.dispatch({type:z}),this.props.dispatch({type:M}),this.eventCount%100===0&&this.props.dispatch({type:J}),this.props.dispatch({type:R})}},{key:"gameUpdate",value:function(){this.state.out?(this.setState({out:!1}),sessionStorage.removeItem(E),this.timer.stop(),this.props.dispatch({type:G}),this.props.history.push("/")):(V.justPressed(27)&&0!==this.props.mode&&this.props.mode!==b&&this.props.mode!==y&&this.props.dispatch(T(1===this.props.mode?2:1)),V.update(),this.renderingData=Object.assign({},this.renderingData,{score:this.props.score,health:this.props.health,drops:this.props.drops,event:this.props.effect}),this.setState({updateCount:this.state.updateCount+1}))}}]),t}(s.Component),ne=Object(c.b)((function(e){return{mode:e.mode,effect:e.effect,drops:e.drops,score:e.score,health:e.health}}))(te),se=n(20),ae=n(19),re=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={width:"1280px",height:"815px"};return a.a.createElement(se.a,null,a.a.createElement(se.a.Item,null,a.a.createElement("img",{className:"d-block",style:t,src:"/img/Lighthouse.jpg",alt:"First slide"}),a.a.createElement(se.a.Caption,null,a.a.createElement("h1",null,"\ud0c0\uc790 \uc5f0\uc2b5\uc744 \uc704\ud55c \uc0b0\uc131\ube44 \uac8c\uc784\uc785\ub2c8\ub2e4."),a.a.createElement(ae.a,{variant:"primary",size:"lg",onClick:function(t){e.props.history.push({pathname:"/acid-rain"})}},"\uc2dc\uc791\ud558\uae30"))),a.a.createElement(se.a.Item,null,a.a.createElement("img",{className:"d-block",style:t,src:"/img/Tulips.jpg",alt:"Third slide"}),a.a.createElement(se.a.Caption,null,a.a.createElement("h1",null,"\ud0c0\uc790 \uc5f0\uc2b5\uc744 \uc704\ud55c \uc0b0\uc131\ube44 \uac8c\uc784\uc785\ub2c8\ub2e4."),a.a.createElement(ae.a,{variant:"primary",size:"lg",onClick:function(t){e.props.history.push({pathname:"/score-list"})}},"\uae30\ub85d\ubcf4\uae30"))))}}]),t}(s.Component),oe=n(26),ie=n(36),ce=function(e){function t(e){var n;Object(u.a)(this,t),n=Object(h.a)(this,Object(p.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem(C));return n.state={list:null===s?null:s.scores},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this;return console.log(this.state.list),e=null===this.state.list?a.a.createElement("td",{colSpan:"3"},a.a.createElement("h3",{style:{color:"red"}},"\ub4f1\ub85d\ub41c \uc810\uc218\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")):this.state.list.map((function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,t+1),a.a.createElement("td",null,e.username),a.a.createElement("td",null,e.score))})),a.a.createElement(oe.a,null,a.a.createElement(oe.a.Header,null,a.a.createElement("h1",null,"\uc810\uc218 \uae30\ub85d",a.a.createElement(ae.a,{className:"float-right",variant:"outline-success",size:"lg",onClick:function(e){t.props.history.push({pathname:"/"})}},"\ud648\uc73c\ub85c"),a.a.createElement(ae.a,{className:"float-right",variant:"outline-primary",size:"lg",onClick:function(e){localStorage.removeItem(C),t.setState({list:null})}},"\ucd08\uae30\ud654"))),a.a.createElement(oe.a.Body,null,a.a.createElement(ie.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},a.a.createElement("thead",null,a.a.createElement("th",null,"\uc21c\uc704"),a.a.createElement("th",null,"\uc720\uc800\uba85"),a.a.createElement("th",null,"\uc810\uc218")),a.a.createElement("tbody",null,e))))}}]),t}(s.Component),ue=(n(55),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(f.c,null,a.a.createElement(f.a,{exact:!0,path:"/",component:re}),a.a.createElement(f.a,{path:"/acid-rain",component:ne}),a.a.createElement(f.a,{path:"/score-list",component:ce})))}}]),t}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le=Object(i.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object.assign({},e,{content:t.content});case D:var n=Array.from(t.words);return function(e){var t,n,s;for(t=e.length;t;t--)n=Math.floor(Math.random()*t),s=e[t-1],e[t-1]=e[n],e[n]=s}(n),Object.assign({},e,K,{move_size:t.move_size,words:n});case G:return Object.assign({},e,K);case z:var s=e.effect,a=e.effect_count,r=e.drops;return e.effect_count>=200?(s=j,a=0,r=e.drops.map((function(e){return Object.assign({},{left:e.left,top:e.top,word:e.word,item:e.item})}))):(e.effect===k?r=e.drops.map((function(e){return Object.assign({},e,{effect:"hidden"})})):e.effect,a+=1),Object.assign({},e,{drops:r,effect:s,effect_count:a});case q:return Object.assign({},e,{health:t.health,score:t.score});case J:var o=Math.random()>=.6,i=e.drops;return e.words_index<w&&(i=e.drops.concat({word:e.words[e.words_index],top:-80,left:Math.floor(Math.random()*(I-N)/N*N),item:o})),Object.assign({},e,{drops:i,words_index:e.words_index+1});case R:var c=e.move_size;e.effect===O&&(c+=.5);var u=e.drops.map((function(e){return Object.assign({},e,{top:e.top+c})}));return Object.assign({},e,{drops:u});case M:var l=e.score,h=e.health,p=Array.from(e.drops),d=e.effect;""!==e.content&&(p=p.filter((function(t){return t.word===e.content&&(l+=10,!0===t.item&&(d=6+Math.floor(2*Math.random()))),t.word!==e.content}))),p=p.filter((function(e){return e.top+N>=x&&(h-=1),e.top+N<x}));var m=e.mode,f=JSON.parse(sessionStorage.getItem(E));return 0===h?m=y:l/10+P-h===w*parseInt(f.num)&&(m=b),Object.assign({},e,{mode:m,effect:d,drops:p,content:"",score:l,health:h});case U:return Object.assign({},e,{mode:t.mode});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(a.a.createElement(c.a,{store:le},a.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.c3d6f208.chunk.js.map